{% extends "base.html" %}

{% block title %}Spelen - Roulette Casino{% endblock %}

{% block content %}
<div class="game-container">
    <div class="game-main">
        <h1>ðŸŽ° Roulette</h1>

        <div class="roulette-section">
            <canvas id="rouletteWheel" width="400" height="400"></canvas>
            <div class="spin-button-container">
                <button id="spinBtn" class="btn btn-large btn-success">SPIN!</button>
            </div>
        </div>

        <div class="game-result" id="gameResult" style="display: none;">
            <div class="result-content">
                <h2 id="resultTitle"></h2>
                <p id="resultNumber"></p>
                <p id="resultPayout"></p>
                <button class="btn btn-primary" onclick="document.getElementById('gameResult').style.display='none'">OkÃ©</button>
            </div>
        </div>
    </div>

    <div class="betting-section">
        <div class="balance-display">
            <span>Tegoed: â‚¬<span id="balance">{{ "%.2f"|format(user.currency) }}</span></span>
        </div>

        <div class="betting-form">
            <h2>Plaats je inzet</h2>

            <div class="form-group">
                <label for="betAmount">Inzetbedrag (â‚¬):</label>
                <input type="number" id="betAmount" min="1" max="1000" step="0.5" value="10">
            </div>

            <div class="form-group">
                <label>Inzettype:</label>
                <div class="bet-type-buttons">
                    <button class="bet-type-btn active" data-type="number">Getal</button>
                    <button class="bet-type-btn" data-type="color">Kleur</button>
                    <button class="bet-type-btn" data-type="odd">Oneven</button>
                    <button class="bet-type-btn" data-type="even">Even</button>
                    <button class="bet-type-btn" data-type="high">Hoog (19-36)</button>
                    <button class="bet-type-btn" data-type="low">Laag (1-18)</button>
                </div>
            </div>

            <div id="bettingOptions">
                <!-- Numbers 0-36 -->
                <div id="numberOptions" class="number-grid">
                    <button class="number-btn" data-value="0">0</button>
                    {% for i in range(1, 37) %}
                    <button class="number-btn" data-value="{{ i }}">{{ i }}</button>
                    {% endfor %}
                </div>

                <!-- Colors -->
                <div id="colorOptions" style="display: none;">
                    <button class="color-btn red" data-value="red">ðŸ”´ Rood</button>
                    <button class="color-btn black" data-value="black">âš« Zwart</button>
                </div>

                <!-- Odd/Even, High/Low (buttons already in layout) -->
            </div>

            <input type="hidden" id="selectedBetType" value="number">
            <input type="hidden" id="selectedBetValue" value="0">

            <button id="placeBetBtn" class="btn btn-primary btn-block">Plaats inzet</button>
        </div>
    </div>
</div>

<!-- Online Players -->
<div class="online-players">
    <h3>Online spelers ({{ online_players|length }})</h3>
    <ul class="players-list">
        {% for player in online_players %}
        <li class="player-item">
            <span class="player-name">{{ player.username }}</span>
            <span class="player-balance">â‚¬{{ "%.2f"|format(player.currency) }}</span>
        </li>
        {% endfor %}
    </ul>
</div>

{% endblock %}

{% endblock %}
